<!--è®­ç»ƒæ¨¡å—é¡µé¢-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
   <view class="header">
    <!-- <view class="title">ğŸ“– åˆ†çº§è®­ç»ƒ</view>
    <view class="subtitle">é€‰æ‹©å­¦ä¹ é˜¶æ®µï¼Œå¼€å§‹è¯æ±‡è®­ç»ƒ</view> --> 
  </view>  

  <!-- é˜¶æ®µé€‰æ‹©è§†å›¾ -->
  <view class="stage-selection" wx:if="{{!showGradeList}}">
    <view class="stage-list">
      <view 
        class="stage-card" 
        wx:for="{{stages}}" 
        wx:key="id"
        bindtap="selectStage"
        data-stage="{{item.id}}"
      >
        <view class="stage-icon">{{item.icon}}</view>
        <view class="stage-info">
          <view class="stage-name">{{item.name}}</view>
          <view class="stage-desc">{{item.description}}</view>
          <view class="stage-count">å…±{{item.grades.length}}ä¸ªå¹´çº§</view>
        </view>
        <view class="stage-arrow">â¤</view>
      </view>
    </view>
  </view>

  <!-- å¹´çº§é€‰æ‹©è§†å›¾ -->
  <view class="grade-selection" wx:if="{{showGradeList && selectedStageData}}">
    <!-- è¿”å›æŒ‰é’® -->
    <view class="back-header">
      <button class="back-btn" bindtap="backToStages">
        â† è¿”å›é˜¶æ®µé€‰æ‹©
      </button>
    </view>

    <!-- å½“å‰é˜¶æ®µä¿¡æ¯ -->
    <view class="current-stage-info">
      <view class="stage-badge">
        <text class="stage-icon-small">{{selectedStageData.icon}}</text>
        <text class="stage-name-small">{{selectedStageData.name}}</text>
      </view>
      <view class="stage-desc-small">{{selectedStageData.description}}</view>
    </view>

    <!-- å¹´çº§åˆ—è¡¨ -->
    <view class="grade-list">
      <view 
        class="grade-card" 
        wx:for="{{selectedStageData.grades}}" 
        wx:key="id"
      >
        <view class="grade-info">
          <view class="grade-name">{{item.name}}</view>
          <view class="grade-stats-simple">
            <text class="word-count">è¯æ±‡é‡: {{item.wordCount}}</text>
            <text class="mastered-text">å·²æŒæ¡: {{item.masteredCount || 0}}</text>
          </view>
        </view>
        
        <view class="grade-actions">
          <button 
            class="training-btn" 
            bindtap="startTraining"
            data-grade="{{item.id}}"
            disabled="{{loading}}"
          >
            {{loading ? 'åŠ è½½ä¸­...' : 'å¼€å§‹è®­ç»ƒ'}}
          </button>
          
          <button 
            class="progress-btn" 
            bindtap="viewProgress"
            data-grade="{{item.id}}"
          >
            æŸ¥çœ‹è¿›åº¦
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip" wx:if="{{!showGradeList}}">
    <view class="tip-text">ğŸ’¡ å»ºè®®ä»åŸºç¡€é˜¶æ®µå¼€å§‹ï¼Œå¾ªåºæ¸è¿›æå‡è¯æ±‡é‡</view>
  </view>
</view>