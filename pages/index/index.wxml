<view class="container">
  <!-- 头部区域 -->
  <view class="header hero">
    <view class="title">词汇短语句子学习</view>
    <view class="subtitle">三合一认读基本功训练，打牢基础，建立优势</view>
  </view>

  <!-- 会员状态区域 -->
  <view class="membership-status">
    <view class="status-card {{membershipStatus.isPremium ? 'premium glass' : 'free bordered'}}">
      <view class="status-info">
        <view class="status-icon">{{membershipStatus.isPremium ? '👑' : '📚'}}</view>
        <view class="status-text">
          <view class="status-title">{{membershipStatus.isPremium ? '高级会员' : '免费用户'}}</view>
          <view class="status-desc" wx:if="{{membershipStatus.isPremium}}">享受无限制学习权益</view>
          <view class="status-desc" wx:else>今日剩余测试次数：{{remainingTests}}</view>
        </view>
      </view>
      <view class="status-action">
        <button class="status-btn {{membershipStatus.isPremium ? 'manage ghost' : 'upgrade primary'}}"
                bindtap="{{membershipStatus.isPremium ? 'goToPayment' : 'goToUpgrade'}}"
                size="mini">
          {{membershipStatus.isPremium ? '管理' : '升级'}}
        </button>
      </view>
    </view>
  </view>

  <!-- 快速开始区域 -->
  <view class="quick-start">
    <view class="section-title" style="position: relative; left: -2rpx; top: 22rpx">快速开始</view>
    <view class="grade-cards grid-2" style="position: relative; left: 6rpx; top: -40rpx; height: 310rpx; display: grid; box-sizing: border-box">
      <view class="grade-card" bindtap="goToGradeTraining" data-stage="primary" style="position: relative; left: -6rpx; top: 77rpx; width: 339rpx; height: 135rpx; display: flex; box-sizing: border-box">
        <view class="card-icon">🎒</view>
        <view class="card-content">
          <view class="card-title">小学阶段</view>
          <view class="card-subtitle">3–6年级基础词汇</view>
        </view>
        <view class="chip chip-green" style="position: absolute; left: 259rpx; top: -2rpx; width: 83rpx; display: block; box-sizing: border-box">入门</view>
      </view>

      <view class="grade-card" bindtap="goToGradeTraining" data-stage="junior" style="position: relative; left: 2rpx; top: 77rpx">
        <view class="card-icon">📚</view>
        <view class="card-content">
          <view class="card-title">初中阶段</view>
          <view class="card-subtitle">7–9年级进阶词汇</view>
        </view>
        <view class="chip chip-blue" style="position: absolute; left: 258rpx; top: -2rpx; width: 83rpx; display: block; box-sizing: border-box">进阶</view>
      </view>

      <view class="grade-card span-2" bindtap="goToGradeTraining" data-stage="senior" style="position: relative; left: -4rpx; top: 100rpx; width: 699rpx; height: 168rpx; display: flex; box-sizing: border-box">
        <view class="card-icon">🎓</view>
        <view class="card-content">
          <view class="card-title">高中阶段</view>
          <view class="card-subtitle">10–12年级高级词汇</view>
        </view>
        <view class="chip chip-purple" style="position: absolute; left: 620rpx; top: -13rpx; width: 83rpx; display: block; box-sizing: border-box">高级</view>
      </view>
    </view>
  </view>

  <!-- 学习工具 -->
  <view class="tools-section" style="position: relative; left: 0rpx; top: 108rpx">
    <view class="section-title" style="position: relative; left: 1rpx; top: -41rpx">学习工具</view>
    <view class="tools-grid">
      <view class="tool-item" bindtap="goToLevelTest">
        <view class="tool-icon">📊</view>
        <view class="tool-name">水平测试</view>
      </view>

      <view class="tool-item" bindtap="showWordBook">
        <view class="tool-icon">📖</view>
        <view class="tool-name">生词本</view>
      </view>
    </view>
  </view>

  <!-- 测试历史 -->
  <view class="history-section" wx:if="{{testHistory.length > 0}}">
    <view class="section-header">
      <view class="section-title">测试历史</view>
      <button class="clear-btn ghost" bindtap="clearAllHistory" size="mini">清空</button>
    </view>

    <view class="history-list">
      <view wx:for="{{testHistory}}" wx:key="id" class="history-item">
        <view class="history-dot"></view>
        <view class="history-info">
          <view class="history-level">{{item.level}}</view>
          <view class="history-score">得分：{{item.score}}</view>
          <view class="history-date">{{item.date}}</view>
        </view>
        <button class="delete-btn danger" bindtap="deleteHistory" data-id="{{item.id}}" size="mini">删除</button>
      </view>
    </view>
  </view>

  <!-- 升级提示 - 已隐藏 -->
  <!-- <view class="upgrade-section" wx:if="{{!isPremium}}">
    <view class="upgrade-card">
      <view class="upgrade-title">🎯 升级会员</view>
      <view class="upgrade-desc">解锁所有功能，无限次测试</view>
      <view class="upgrade-desc">今日剩余测试次数：{{remainingTests}}</view>
      <button class="upgrade-btn primary" bindtap="goToUpgrade">立即升级</button>
    </view>
  </view> -->
</view>