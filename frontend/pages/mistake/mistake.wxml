<!--pages/mistake/mistake.wxml-->
<view class="container">
  <!-- ç®€åŒ–çš„å¤´éƒ¨å¯¼èˆª -->
  <view class="simple-header">
    <button class="back-btn" bindtap="goBack">
      <text class="back-icon">â†</text>
    </button>
    <button class="header-icon-btn" bindtap="togglePause">
      <text class="icon-text">{{isPaused ? 'â–¶ï¸' : 'â¸ï¸'}}</text>
    </button>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-item">
      <text class="stats-number">{{words.length}}</text>
      <text class="stats-label">ç”Ÿè¯æ€»æ•°</text>
    </view>
  </view>

  <!-- ç”Ÿè¯å¡ç‰‡ - ä½¿ç”¨å­¦ä¹ é¡µé¢çš„å¡ç‰‡æ ·å¼ -->
  <view class="main-content" wx:if="{{words.length > 0}}">
    <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
    <view class="progress-indicator">
      <text class="progress-text">{{currentIndex + 1}}/{{words.length}}</text>
    </view>
    
    <view class="modern-word-card" bindtouchstart="onWordTouchStart" bindtouchend="onWordTouchEnd">
      
      <!-- å•è¯ä¸»ä½“åŒºåŸŸ -->
      <view class="word-main-section">
        <view class="word-display">
          <!-- å•è¯æ–‡æœ¬ -->
          <text class="word-text {{isLongWord ? 'long-word' : ''}}">{{words[currentIndex].word}}</text>
          
          <!-- éŸ³æ ‡æ˜¾ç¤º -->
          <text class="phonetic-text" wx:if="{{words[currentIndex].pronunciation}}">{{words[currentIndex].pronunciation}}</text>
          
          <!-- å¹´çº§æ ‡ç­¾ -->
          <view class="word-grade-tag" wx:if="{{showGradeTags && getWordGradeTag(words[currentIndex])}}">
            {{getWordGradeTag(words[currentIndex])}}
          </view>
        </view>
        
        <!-- å‘éŸ³æŒ‰é’® -->
        <button class="modern-pronunciation-btn {{isPlaying ? 'playing' : ''}}" 
                bindtap="playPronunciation" 
                disabled="{{isPlaying}}">
          <text class="pronunciation-icon">ğŸ”Š</text>
        </button>
      </view>

      <!-- å•è¯ä¿¡æ¯å¡ç‰‡ -->
      <view class="0å®æ³¢ " wx:if="{{showAnswer}}">
        <view class="word-meaning-text {{words[currentIndex].meaning && words[currentIndex].meaning.length > 15 ? 'long-text' : ''}}">
          {{words[currentIndex].meaning}}
        </view>
      </view>

      <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
      <view class="action-buttons">
        <button class="modern-btn show-answer-btn" bindtap="toggleAnswer">
          <text class="btn-label">{{showAnswer ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ'}}</text>
        </button>
      </view>
      
      <!-- å·¦æ»‘æç¤º -->
      <view class="swipe-hint">
        <text class="hint-text">ğŸ’¡ å·²æŒæ¡å¯ä»¥å·¦æ»‘ç§»å‡ºç”Ÿè¯æœ¬</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{words.length === 0}}">
    <text class="empty-icon">ğŸ“š</text>
    <text class="empty-text">æš‚æ— ç”Ÿè¯</text>
    <text class="empty-desc">å»ç»ƒä¹ ä¸­ç§¯ç´¯ç”Ÿè¯å§</text>
  </view>
</view>